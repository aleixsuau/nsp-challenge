<div class="p-4"  data-testid="department-form">
  <form [formGroup]="departmentForm" class="flex flex-column gap-2">
    <label htmlFor="name">
      Name
    </label>
    <input pInputText
      id="name"
      aria-describedby="department-name"
      formControlName="name"
      class="mb-3"
      data-testid="department-form-name"
    />

    <label htmlFor="users">Users</label>
    <span class="p-fluid mb-3">
      <p-autoComplete
        id="users"
        formControlName="users"
        [suggestions]="userSuggestions"
        (completeMethod)="filterUsers($event)"
        field="name"
        [multiple]="true"
        aria-describedby="department-users"
        data-testid="department-form-users"
      >
      </p-autoComplete>
    </span>

    <p-button [label]="departmentForm.value.id ? 'Update' : 'Add'"
      (click)="saveDepartment(departmentForm.getRawValue())"
      data-testid="department-form-submit"
      class="align-self-center mb-3"
      [disabled]="departmentForm.invalid"
    >
    </p-button>
  </form>
</div>

